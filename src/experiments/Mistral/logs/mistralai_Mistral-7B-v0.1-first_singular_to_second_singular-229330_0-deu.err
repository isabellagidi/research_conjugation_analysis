++ date
+ echo '[Thu Nov  6 04:34:48 AM CET 2025] Task 0 -> deu'
+ echo 'PHASE: select'
+ echo 'Pair: first singular -> second singular'
+ echo 'Model: mistralai/Mistral-7B-v0.1'
+ DATASET_JSON=/home/lis.isabella.gidi/jsalt2025/src/datasets/morphy_net/MorphyNet_all_present_conjugations.json
+ OUT_BASE=/home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/results
+ SEL_DIR=/home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/results/selections
+ PATCH_DIR=/home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/results/patches
+ mkdir -p /home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/results/selections /home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/results/patches
+ SEL_PATH=/home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/results/selections/mistralai_Mistral-7B-v0.1-first_singular_to_second_singular-deu.json
+ OUT_DIR_LANG=/home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/results/patches/mistralai_Mistral-7B-v0.1-first_singular_to_second_singular-deu
+ [[ select == \s\e\l\e\c\t ]]
++ python -
Traceback (most recent call last):
  File "<stdin>", line 2, in <module>
  File "<frozen os>", line 717, in __getitem__
KeyError: 'LANG_ISO3'
+ srun python3 -u select_examples.py --model_name mistralai/Mistral-7B-v0.1 --lang_iso3 deu --lang_name '' --person_a 'first singular' --person_b 'second singular' --max_verbs 1300 --keep_k 50 --dataset_path /home/lis.isabella.gidi/jsalt2025/src/datasets/morphy_net/MorphyNet_all_present_conjugations.json --out_path /home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/results/selections/mistralai_Mistral-7B-v0.1-first_singular_to_second_singular-deu.json
/public/conda/user_envs/lis.isabella.gidi/envs/jsalt2025/lib/python3.13/site-packages/transformers/utils/hub.py:111: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.
  warnings.warn(
Fetching 2 files:   0%|          | 0/2 [00:00<?, ?it/s]Fetching 2 files:  50%|█████     | 1/2 [00:34<00:34, 34.11s/it]Fetching 2 files: 100%|██████████| 2/2 [00:34<00:00, 17.06s/it]
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.22s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:01<00:00,  1.23it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:01<00:00,  1.15it/s]
Traceback (most recent call last):
  File "/home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/select_examples.py", line 70, in <module>
    main()
    ~~~~^^
  File "/home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/select_examples.py", line 37, in main
     texts_1, texts_2, _) = prepare_language_dataset(
                            ~~~~~~~~~~~~~~~~~~~~~~~~^
        lang_iso3=args.lang_iso3, lang_name=args.lang_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        all_verbs=all_verbs, tokenizer=tokenizer, max_verbs=args.max_verbs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        person_a=args.person_a, person_b=args.person_b
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/utils_mega_automation.py", line 484, in prepare_language_dataset
    first_prompts  = generate_dataset(person_a,  language=lang_name,
                                      conjugations=conj_list)
  File "/home/lis.isabella.gidi/jsalt2025/src/experiments/mega_automation_edited/Mistral/utils_mega_automation.py", line 440, in generate_dataset
    raise ValueError(f"Unsupported language: {language}")
ValueError: Unsupported language: 
srun: error: selexini-1: task 0: Exited with exit code 1
